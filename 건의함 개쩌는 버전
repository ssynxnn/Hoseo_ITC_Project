I understand you want to use the same school suggestion box system in Python. I'll create a Flask web application that replicates the same functionality.

from flask import Flask, render_template, request, jsonify, redirect, url_for, session
from datetime import datetime
import json
import os

app = Flask(__name__)
app.secret_key = 'your-secret-key-here'  # ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ë” ì•ˆì „í•œ í‚¤ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”

# ë°ì´í„° ì €ì¥ì„ ìœ„í•œ íŒŒì¼ ê²½ë¡œ
DATA_FILE = 'suggestions.json'

# ê´€ë¦¬ì ê³„ì • ì •ë³´
ADMIN_CREDENTIALS = {
    'hoseogo': '12345'
}

# ì¹´í…Œê³ ë¦¬ ì„¤ì •
CATEGORY_CONFIG = {
    'facility': {'icon': 'ğŸ¢', 'color': 'bg-blue-100 text-blue-800', 'name': 'ì‹œì„¤ ê°œì„ '},
    'restroom': {'icon': 'ğŸš»', 'color': 'bg-cyan-100 text-cyan-800', 'name': 'í•™êµ í™”ì¥ì‹¤'},
    'food': {'icon': 'ğŸ½ï¸', 'color': 'bg-green-100 text-green-800', 'name': 'ê¸‰ì‹ ê´€ë ¨'},
    'trash': {'icon': 'ğŸ—‘ï¸', 'color': 'bg-orange-100 text-orange-800', 'name': 'ì“°ë ˆê¸° ë¬¸ì œ'},
    'academic': {'icon': 'ğŸ“š', 'color': 'bg-purple-100 text-purple-800', 'name': 'ìˆ˜ì—…/í•™ì‚¬'},
    'activity': {'icon': 'ğŸ­', 'color': 'bg-yellow-100 text-yellow-800', 'name': 'ë™ì•„ë¦¬/í™œë™'},
    'environment': {'icon': 'ğŸŒ±', 'color': 'bg-emerald-100 text-emerald-800', 'name': 'í•™êµ í™˜ê²½'},
    'safety': {'icon': 'ğŸ›¡ï¸', 'color': 'bg-red-100 text-red-800', 'name': 'ì•ˆì „ ê´€ë ¨'},
    'library': {'icon': 'ğŸ“–', 'color': 'bg-indigo-100 text-indigo-800', 'name': 'ë„ì„œê´€'},
    'sports': {'icon': 'âš½', 'color': 'bg-teal-100 text-teal-800', 'name': 'ì²´ìœ¡/ìš´ë™'},
    'other': {'icon': 'ğŸ’­', 'color': 'bg-gray-100 text-gray-800', 'name': 'ê¸°íƒ€'}
}

# ìƒíƒœ ì„¤ì •
STATUS_CONFIG = {
    'pending': {'color': 'bg-yellow-100 text-yellow-800', 'name': 'ê²€í† ì¤‘'},
    'in-progress': {'color': 'bg-blue-100 text-blue-800', 'name': 'ì²˜ë¦¬ì¤‘'},
    'completed': {'color': 'bg-green-100 text-green-800', 'name': 'ì™„ë£Œ'}
}

def load_suggestions():
    """ê±´ì˜ì‚¬í•­ ë°ì´í„°ë¥¼ íŒŒì¼ì—ì„œ ë¡œë“œ"""
    if os.path.exists(DATA_FILE):
        try:
            with open(DATA_FILE, 'r', encoding='utf-8') as f:
                return json.load(f)
        except:
            return []
    return []

def save_suggestions(suggestions):
    """ê±´ì˜ì‚¬í•­ ë°ì´í„°ë¥¼ íŒŒì¼ì— ì €ì¥"""
    with open(DATA_FILE, 'w', encoding='utf-8') as f:
        json.dump(suggestions, f, ensure_ascii=False, indent=2)

@app.route('/')
def index():
    """ë©”ì¸ í˜ì´ì§€"""
    suggestions = load_suggestions()
    is_admin = session.get('is_admin', False)
    admin_id = session.get('admin_id', '')
    
    return render_template('index.html', 
                         suggestions=suggestions,
                         is_admin=is_admin,
                         admin_id=admin_id,
                         category_config=CATEGORY_CONFIG,
                         status_config=STATUS_CONFIG)

@app.route('/submit_suggestion', methods=['POST'])
def submit_suggestion():
    """ê±´ì˜ì‚¬í•­ ì œì¶œ"""
    data = request.get_json()
    
    # ìµëª… ì²˜ë¦¬
    is_anonymous = data.get('anonymous', False)
    student_name = 'ìµëª…' if is_anonymous else (data.get('studentName') or 'ìµëª…')
    student_grade = '' if is_anonymous else (data.get('studentGrade') or '')
    
    # ìƒˆ ê±´ì˜ì‚¬í•­ ìƒì„±
    suggestion = {
        'id': int(datetime.now().timestamp() * 1000),  # JavaScriptì˜ Date.now()ì™€ ìœ ì‚¬
        'studentName': student_name,
        'studentGrade': student_grade,
        'category': data.get('category'),
        'title': data.get('title'),
        'content': data.get('content'),
        'status': 'pending',
        'createdAt': datetime.now().strftime('%Y. %m. %d. %H:%M:%S'),
        'adminResponse': '',
        'responseDate': ''
    }
    
    # ë°ì´í„° ë¡œë“œ ë° ì €ì¥
    suggestions = load_suggestions()
    suggestions.insert(0, suggestion)  # ìµœì‹  ê±´ì˜ì‚¬í•­ì„ ë§¨ ì•ì— ì¶”ê°€
    save_suggestions(suggestions)
    
    return jsonify({'success': True, 'message': 'ê±´ì˜ì‚¬í•­ì´ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!'})

@app.route('/admin_login', methods=['POST'])
def admin_login():
    """ê´€ë¦¬ì ë¡œê·¸ì¸"""
    data = request.get_json()
    admin_id = data.get('adminId')
    password = data.get('password')
    
    if admin_id in ADMIN_CREDENTIALS and ADMIN_CREDENTIALS[admin_id] == password:
        session['is_admin'] = True
        session['admin_id'] = admin_id
        return jsonify({'success': True})
    else:
        return jsonify({'success': False, 'message': 'ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.'})

@app.route('/admin_logout', methods=['POST'])
def admin_logout():
    """ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ"""
    session.pop('is_admin', None)
    session.pop('admin_id', None)
    return jsonify({'success': True})

@app.route('/admin_response', methods=['POST'])
def admin_response():
    """ê´€ë¦¬ì ë‹µë³€ ì €ì¥"""
    if not session.get('is_admin'):
        return jsonify({'success': False, 'message': 'ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.'})
    
    data = request.get_json()
    suggestion_id = data.get('suggestionId')
    status = data.get('status')
    response = data.get('response')
    
    suggestions = load_suggestions()
    
    # í•´ë‹¹ ê±´ì˜ì‚¬í•­ ì°¾ì•„ì„œ ì—…ë°ì´íŠ¸
    for suggestion in suggestions:
        if suggestion['id'] == suggestion_id:
            suggestion['status'] = status
            suggestion['adminResponse'] = response
            suggestion['responseDate'] = datetime.now().strftime('%Y. %m. %d. %H:%M:%S')
            break
    
    save_suggestions(suggestions)
    return jsonify({'success': True})

@app.route('/get_suggestions')
def get_suggestions():
    """ê±´ì˜ì‚¬í•­ ëª©ë¡ ì¡°íšŒ (AJAXìš©)"""
    suggestions = load_suggestions()
    category_filter = request.args.get('category', '')
    status_filter = request.args.get('status', '')
    
    # í•„í„°ë§
    if category_filter:
        suggestions = [s for s in suggestions if s['category'] == category_filter]
    if status_filter:
        suggestions = [s for s in suggestions if s['status'] == status_filter]
    
    return jsonify(suggestions)

if __name__ == '__main__':
    # templates í´ë”ê°€ ì—†ìœ¼ë©´ ìƒì„±
    if not os.path.exists('templates'):
        os.makedirs('templates')
    
    # HTML í…œí”Œë¦¿ íŒŒì¼ ìƒì„±
    html_template = '''<!DOCTYPE html>
<html lang="ko" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•™êµ ê±´ì˜í•¨ - School Suggestion Box</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .admin-badge {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        }
        .suggestion-card {
            transition: all 0.3s ease;
        }
        .suggestion-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 font-sans">
    <header class="bg-white shadow-lg">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center">
                    <div class="text-3xl mr-3">ğŸ“®</div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-800">í•™êµ ê±´ì˜í•¨</h1>
                        <p class="text-sm text-gray-600">ì—¬ëŸ¬ë¶„ì˜ ì†Œì¤‘í•œ ì˜ê²¬ì„ ë“¤ë ¤ì£¼ì„¸ìš”</p>
                        <p class="text-xs text-gray-500 mt-1">ğŸ’¡ ê´€ë¦¬ìëŠ” ë³„ë„ ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    {% if is_admin %}
                    <div class="admin-badge text-white px-3 py-1 rounded-full text-sm font-semibold flex items-center">
                        <span class="mr-2">ğŸ‘¨â€ğŸ’¼</span>
                        ê´€ë¦¬ì ëª¨ë“œ ({{ admin_id }})
                    </div>
                    <button onclick="adminLogout()" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                        ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ
                    </button>
                    {% else %}
                    <button onclick="showAdminLogin()" class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                        ê´€ë¦¬ì ë¡œê·¸ì¸
                    </button>
                    {% endif %}
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        {% if not is_admin %}
        <!-- Suggestion Form -->
        <div class="bg-white rounded-xl shadow-lg p-8 mb-8 fade-in">
            <h2 class="text-2xl font-bold mb-6 text-gray-800 flex items-center">
                <span class="text-2xl mr-3">âœï¸</span>
                ê±´ì˜ì‚¬í•­ ì‘ì„±
            </h2>
            <form id="suggestion-form" class="space-y-6">
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label for="student-name" class="block text-sm font-medium text-gray-700 mb-2">ì´ë¦„ (ì„ íƒì‚¬í•­)</label>
                        <input type="text" id="student-name" name="studentName" placeholder="ìµëª…ìœ¼ë¡œ ì œì¶œí•˜ë ¤ë©´ ë¹„ì›Œë‘ì„¸ìš”" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                    <div>
                        <label for="student-grade" class="block text-sm font-medium text-gray-700 mb-2">í•™ë…„/ë°˜ (ì„ íƒì‚¬í•­)</label>
                        <input type="text" id="student-grade" name="studentGrade" placeholder="ì˜ˆ: 2í•™ë…„ 3ë°˜" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                </div>
                
                <div>
                    <label for="category" class="block text-sm font-medium text-gray-700 mb-2">ê±´ì˜ ë¶„ì•¼</label>
                    <select id="category" name="category" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        <option value="">ë¶„ì•¼ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        {% for key, config in category_config.items() %}
                        <option value="{{ key }}">{{ config.name }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div>
                    <label for="title" class="block text-sm font-medium text-gray-700 mb-2">ì œëª©</label>
                    <input type="text" id="title" name="title" required placeholder="ê±´ì˜ì‚¬í•­ì˜ ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                </div>

                <div>
                    <label for="content" class="block text-sm font-medium text-gray-700 mb-2">ê±´ì˜ ë‚´ìš©</label>
                    <textarea id="content" name="content" rows="6" required placeholder="êµ¬ì²´ì ì¸ ê±´ì˜ì‚¬í•­ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. í˜„ì¬ ìƒí™©ê³¼ ê°œì„  ë°©ì•ˆì„ í¬í•¨í•´ì£¼ì‹œë©´ ë”ìš± ì¢‹ìŠµë‹ˆë‹¤." class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                </div>

                <div class="flex items-center">
                    <input type="checkbox" id="anonymous" name="anonymous" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
                    <label for="anonymous" class="ml-2 block text-sm text-gray-700">ìµëª…ìœ¼ë¡œ ì œì¶œí•˜ê¸°</label>
                </div>

                <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-3 px-6 rounded-lg font-semibold transition-colors flex items-center justify-center">
                    <span class="mr-2">ğŸ“¤</span>
                    ê±´ì˜ì‚¬í•­ ì œì¶œí•˜ê¸°
                </button>
            </form>

            <div id="submit-success" class="hidden mt-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg">
                <div class="flex items-center">
                    <span class="text-xl mr-2">âœ…</span>
                    <div>
                        <p class="font-semibold">ê±´ì˜ì‚¬í•­ì´ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!</p>
                        <p class="text-sm">ê²€í†  í›„ ë‹µë³€ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Suggestions List -->
        <div class="bg-white rounded-xl shadow-lg p-8 fade-in">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                    <span class="text-2xl mr-3">ğŸ“‹</span>
                    ê±´ì˜ì‚¬í•­ ëª©ë¡
                </h2>
                <div class="flex items-center space-x-4">
                    <select id="filter-category" onchange="filterSuggestions()" class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                        <option value="">ì „ì²´ ë¶„ì•¼</option>
                        {% for key, config in category_config.items() %}
                        <option value="{{ key }}">{{ config.name }}</option>
                        {% endfor %}
                    </select>
                    <select id="filter-status" onchange="filterSuggestions()" class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                        <option value="">ì „ì²´ ìƒíƒœ</option>
                        {% for key, config in status_config.items() %}
                        <option value="{{ key }}">{{ config.name }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div id="suggestions-container" class="space-y-4">
                <!-- ê±´ì˜ì‚¬í•­ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
            </div>

            <div id="no-suggestions" class="text-center py-12 text-gray-500 {% if suggestions %}hidden{% endif %}">
                <div class="text-6xl mb-4">ğŸ“­</div>
                <p class="text-lg">ì•„ì§ ê±´ì˜ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                <p class="text-sm">ì²« ë²ˆì§¸ ê±´ì˜ì‚¬í•­ì„ ì‘ì„±í•´ë³´ì„¸ìš”!</p>
            </div>
        </div>
    </main>

    <!-- Admin Login Modal -->
    <div id="admin-login-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-xl shadow-2xl max-w-md w-full mx-4">
            <div class="p-6 border-b border-gray-200">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-800">ê´€ë¦¬ì ë¡œê·¸ì¸</h3>
                    <button onclick="closeAdminLoginModal()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="p-6">
                <form id="admin-login-form">
                    <div class="mb-4">
                        <label for="admin-id" class="block text-sm font-medium text-gray-700 mb-2">ê´€ë¦¬ì ì•„ì´ë””</label>
                        <input type="text" id="admin-id" name="adminId" required placeholder="ê´€ë¦¬ì ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                    <div class="mb-4">
                        <label for="admin-password" class="block text-sm font-medium text-gray-700 mb-2">ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="admin-password" name="password" required placeholder="ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                    <div id="login-error" class="hidden mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm">
                        ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.
                    </div>
                    <div class="flex justify-end space-x-3">
                        <button type="button" onclick="closeAdminLoginModal()" class="px-4 py-2 text-gray-600 hover:text-gray-800 font-medium">ì·¨ì†Œ</button>
                        <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg font-medium transition-colors">ë¡œê·¸ì¸</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Admin Response Modal -->
    <div id="admin-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b border-gray-200">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-800">ê´€ë¦¬ì ë‹µë³€</h3>
                    <button onclick="closeAdminModal()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="p-6">
                <div id="modal-suggestion-content" class="mb-6">
                    <!-- ê±´ì˜ì‚¬í•­ ë‚´ìš©ì´ ì—¬ê¸°ì— ë¡œë“œë©ë‹ˆë‹¤ -->
                </div>
                <form id="admin-response-form">
                    <input type="hidden" id="suggestion-id" name="suggestionId">
                    <div class="mb-4">
                        <label for="admin-status-select" class="block text-sm font-medium text-gray-700 mb-2">ì²˜ë¦¬ ìƒíƒœ</label>
                        <select id="admin-status-select" name="status" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            {% for key, config in status_config.items() %}
                            <option value="{{ key }}">{{ config.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-6">
                        <label for="admin-response" class="block text-sm font-medium text-gray-700 mb-2">ê´€ë¦¬ì ë‹µë³€</label>
                        <textarea id="admin-response" name="response" rows="4" required placeholder="í•™ìƒì—ê²Œ ì „ë‹¬í•  ë‹µë³€ì„ ì‘ì„±í•´ì£¼ì„¸ìš”..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                    </div>
                    <div class="flex justify-end space-x-3">
                        <button type="button" onclick="closeAdminModal()" class="px-4 py-2 text-gray-600 hover:text-gray-800 font-medium">ì·¨ì†Œ</button>
                        <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg font-medium transition-colors">ë‹µë³€ ì €ì¥</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        const categoryConfig = {{ category_config | tojson }};
        const statusConfig = {{ status_config | tojson }};
        const isAdmin = {{ is_admin | tojson }};
        let suggestions = {{ suggestions | tojson }};

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ê±´ì˜ì‚¬í•­ í‘œì‹œ
        document.addEventListener('DOMContentLoaded', function() {
            displaySuggestions();
        });

        // ê±´ì˜ì‚¬í•­ ì œì¶œ
        {% if not is_admin %}
        document.getElementById('suggestion-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const data = {
                studentName: formData.get('studentName'),
                studentGrade: formData.get('studentGrade'),
                category: formData.get('category'),
                title: formData.get('title'),
                content: formData.get('content'),
                anonymous: formData.get('anonymous') === 'on'
            };
            
            try {
                const response = await fetch('/submit_suggestion', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    document.getElementById('submit-success').classList.remove('hidden');
                    e.target.reset();
                    
                    // ê±´ì˜ì‚¬í•­ ëª©ë¡ ìƒˆë¡œê³ ì¹¨
                    await loadSuggestions();
                    
                    setTimeout(() => {
                        document.getElementById('submit-success').classList.add('hidden');
                    }, 5000);
                }
            } catch (error) {
                console.error('Error:', error);
            }
        });
        {% endif %}

        // ê´€ë¦¬ì ë¡œê·¸ì¸
        function showAdminLogin() {
            document.getElementById('admin-login-modal').classList.remove('hidden');
            document.getElementById('login-error').classList.add('hidden');
        }

        function closeAdminLoginModal() {
            document.getElementById('admin-login-modal').classList.add('hidden');
            document.getElementById('admin-id').value = '';
            document.getElementById('admin-password').value = '';
            document.getElementById('login-error').classList.add('hidden');
        }

        document.getElementById('admin-login-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const data = {
                adminId: formData.get('adminId'),
                password: formData.get('password')
            };
            
            try {
                const response = await fetch('/admin_login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    location.reload();
                } else {
                    document.getElementById('login-error').classList.remove('hidden');
                    document.getElementById('admin-password').value = '';
                }
            } catch (error) {
                console.error('Error:', error);
            }
        });

        // ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ
        async function adminLogout() {
            try {
                await fetch('/admin_logout', {
                    method: 'POST'
                });
                location.reload();
            } catch (error) {
                console.error('Error:', error);
            }
        }

        // ê±´ì˜ì‚¬í•­ ëª©ë¡ ë¡œë“œ
        async function loadSuggestions() {
            try {
                const response = await fetch('/get_suggestions');
                suggestions = await response.json();
                displaySuggestions();
            } catch (error) {
                console.error('Error:', error);
            }
        }

        // ê±´ì˜ì‚¬í•­ í‘œì‹œ
        function displaySuggestions() {
            const container = document.getElementById('suggestions-container');
            const noSuggestions = document.getElementById('no-suggestions');
            
            if (suggestions.length === 0) {
                container.innerHTML = '';
                noSuggestions.classList.remove('hidden');
                return;
            }
            
            noSuggestions.classList.add('hidden');
            
            const filteredSuggestions = getFilteredSuggestions();
            
            container.innerHTML = filteredSuggestions.map(suggestion => {
                const categoryInfo = categoryConfig[suggestion.category];
                const statusInfo = statusConfig[suggestion.status];
                
                return `
                    <div class="suggestion-card border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all">
                        <div class="flex justify-between items-start mb-4">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">${categoryInfo.icon}</span>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800">${suggestion.title}</h3>
                                    <div class="flex items-center space-x-2 mt-1">
                                        <span class="px-2 py-1 rounded-full text-xs font-medium ${categoryInfo.color}">${categoryInfo.name}</span>
                                        <span class="px-2 py-1 rounded-full text-xs font-medium ${statusInfo.color}">${statusInfo.name}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-right text-sm text-gray-500">
                                <p>${suggestion.createdAt}</p>
                                ${suggestion.studentName !== 'ìµëª…' ? `<p class="font-medium">${suggestion.studentName}</p>` : ''}
                                ${suggestion.studentGrade ? `<p>${suggestion.studentGrade}</p>` : ''}
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <p class="text-gray-700 leading-relaxed">${suggestion.content}</p>
                        </div>
                        
                        ${suggestion.adminResponse ? `
                            <div class="bg-green-50 border-l-4 border-green-400 p-4 mt-4">
                                <div class="flex items-center mb-2">
                                    <span class="text-lg mr-2">âœ…</span>
                                    <span class="font-semibold text-green-800">ë‹µë³€ ì™„ë£Œ</span>
                                    <span class="text-sm text-green-600 ml-2">${suggestion.responseDate}</span>
                                </div>
                                <p class="text-green-700">${suggestion.adminResponse}</p>
                            </div>
                        ` : `
                            <div class="bg-gray-50 border-l-4 border-gray-300 p-4 mt-4">
                                <div class="flex items-center mb-2">
                                    <span class="text-lg mr-2">â³</span>
                                    <span class="font-medium text-gray-500">ê´€ë¦¬ì ë‹µë³€ ëŒ€ê¸°ì¤‘</span>
                                </div>
                                <p class="text-gray-400 text-sm italic">ê´€ë¦¬ìê°€ ê²€í†  í›„ ë‹µë³€ì„ ë“œë¦´ ì˜ˆì •ì…ë‹ˆë‹¤. ì¡°ê¸ˆë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>
                            </div>
                        `}
                        
                        ${isAdmin ? `
                            <div class="mt-4 pt-4 border-t border-gray-200">
                                <button onclick="openAdminModal(${suggestion.id})" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                                    ${suggestion.adminResponse ? 'ë‹µë³€ ìˆ˜ì •' : 'ë‹µë³€ ì‘ì„±'}
                                </button>
                            </div>
                        ` : ''}
                    </div>
                `;
            }).join('');
        }

        // í•„í„°ë§ëœ ê±´ì˜ì‚¬í•­ ê°€ì ¸ì˜¤ê¸°
        function getFilteredSuggestions() {
            const categoryFilter = document.getElementById('filter-category').value;
            const statusFilter = document.getElementById('filter-status').value;
            
            return suggestions.filter(suggestion => {
                const categoryMatch = !categoryFilter || suggestion.category === categoryFilter;
                const statusMatch = !statusFilter || suggestion.status === statusFilter;
                return categoryMatch && statusMatch;
            });
        }

        // í•„í„° ì ìš©
        function filterSuggestions() {
            displaySuggestions();
        }

        // ê´€ë¦¬ì ë‹µë³€ ëª¨ë‹¬
        function openAdminModal(suggestionId) {
            const suggestion = suggestions.find(s => s.id === suggestionId);
            if (!suggestion) return;
            
            const categoryInfo = categoryConfig[suggestion.category];
            
            document.getElementById('modal-suggestion-content').innerHTML = `
                <div class="bg-gray-50 rounded-lg p-4 mb-4">
                    <div class="flex items-center space-x-2 mb-2">
                        <span class="text-xl">${categoryInfo.icon}</span>
                        <span class="px-2 py-1 rounded-full text-xs font-medium ${categoryInfo.color}">${categoryInfo.name}</span>
                    </div>
                    <h4 class="font-semibold text-lg mb-2">${suggestion.title}</h4>
                    <p class="text-gray-700 mb-2">${suggestion.content}</p>
                    <div class="text-sm text-gray-500">
                        <p>ì‘ì„±ì: ${suggestion.studentName} ${suggestion.studentGrade}</p>
                        <p>ì‘ì„±ì¼: ${suggestion.createdAt}</p>
                    </div>
                </div>
            `;
            
            document.getElementById('suggestion-id').value = suggestionId;
            document.getElementById('admin-status-select').value = suggestion.status;
            document.getElementById('admin-response').value = suggestion.adminResponse;
            
            document.getElementById('admin-modal').classList.remove('hidden');
        }

        function closeAdminModal() {
            document.getElementById('admin-modal').classList.add('hidden');
        }

        // ê´€ë¦¬ì ë‹µë³€ ì œì¶œ
        document.getElementById('admin-response-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const data = {
                suggestionId: parseInt(formData.get('suggestionId')),
                status: formData.get('status'),
                response: formData.get('response')
            };
            
            try {
                const response = await fetch('/admin_response', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    closeAdminModal();
                    await loadSuggestions();
                }
            } catch (error) {
                console.error('Error:', error);
            }
        });
    </script>
</body>
</html>'''
